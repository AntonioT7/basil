
======================================
**spi** - serial peripheral interface
======================================

Module implements master serial peripheral interface. Supports simple internal loops.

**Unit test/Example:** 
`test_SimSpi.v <https://github.com/SiLab-Bonn/basil/blob/master/host/tests/test_SimSpi.v>`_ 
`test_SimSpi.py <https://github.com/SiLab-Bonn/basil/blob/master/host/tests/test_SimSpi.py>`_

Parameters
    +--------------+---------------------+-------------------------------------------------------------------------+ 
    | Name         | Default             | Description                                                             | 
    +==============+=====================+=========================================================================+ 
    | MEM_BYTES    | 2                   | Amount of meemory allocated for data (maximum single transfer in bytes) | 
    +--------------+---------------------+-------------------------------------------------------------------------+ 

Pins
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | Name         | Size                | Direction             | Description                                          | 
    +==============+=====================+=======================+======================================================+ 
    | SPI_CLK      | 1                   |  input                | clock used for SPI transfers                         | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | SCLK         | 1                   |  output               | external clock (active only during transfers)        | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | SDO          | 1                   |  input                | incoming data                                        | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | SDI          | 1                   |  output               | outgoing data                                        | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | SEN          | 1                   |  output               | active high during transfer                          | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
    | SLD          | 1                   |  output               | active high strobe indicating end of transfer        | 
    +--------------+---------------------+-----------------------+------------------------------------------------------+ 
  
Registers
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | Name         | Address                          | Bits   | r/w   | Default     | Description                                 | 
    +==============+==================================+========+=======+=============+=============================================+ 
    | START        | 1                                |        | wo    |             | start transfer on write to address          | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | DONE         | 1                                | [0]    | ro    | 0           | indicate transfer finish                    | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | BIT_OUT      | 4 - 3                            | [15:0] | r/w   | MEM_BYTES*8 | set the size of transfer in bits            | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | WAIT         | 6 - 5                            | [15:0] | r/w   | 0           | waits after every transfer if REPEAT != 0   | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | REPEAT       | 7                                | [7:0]  | r/w   | 1           | repeat transfer count (0 -> forever)        | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | DATA_OUT     |  8 to  8+MEM_BYTES-1             |        | r/w   | unknown     | memory for outgoing data                    | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
    | DATA_IN      | 8+MEM_BYTES to 8+2*MEM_BYTES-1   |        | r/w   | unknown     | memory for incoming data                    | 
    +--------------+----------------------------------+--------+-------+-------------+---------------------------------------------+ 
